<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Car Pool Connect</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>

<style>
body {
font-family: 'Segoe UI', sans-serif;
}

.hero {
background: url('img/bg.jpg') no-repeat center center/cover;
height: 90vh;
display: flex;
align-items: center;
color: white;
text-shadow: 2px 2px 5px black;
}

.hero-text {
background: rgba(0, 0, 0, 0.6);
padding: 40px;
border-radius: 10px;
}

.card img {
height: 200px;
object-fit: cover;
}

footer {
background-color: #f8f9fa;
text-align: center;
padding: 20px;
margin-top: 40px;
}
</style>
</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
<div class="container">
<a class="navbar-brand" href="#">CarPool Connect</a>
<div class="collapse navbar-collapse">
<ul class="navbar-nav ms-auto">
<li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
<li class="nav-item"><a class="nav-link" href="#search">Find Ride</a></li>
<li class="nav-item"><a class="nav-link" href="#offer">Offer Ride</a></li>
</ul>
</div>
</div>
</nav>

<!-- Hero -->
<section class="hero">
<div class="container text-center">
<div class="hero-text">
<h1>Share Your Ride, Save the Planet</h1>
<p>Find carpool buddies and reduce travel costs</p>
<a href="#search" class="btn btn-primary btn-lg">Start Carpooling</a>
</div>
</div>
</section>

<!-- Search Ride -->
<section id="search" class="py-5">
<div class="container">
<h2 class="text-center mb-4">Search for Rides</h2>

<form class="row g-3" onsubmit="searchRide(event)">
<div class="col-md-3">
<input type="text" class="form-control" placeholder="From" id="fromLocation" required>
</div>
<div class="col-md-3">
<input type="text" class="form-control" placeholder="To" id="toLocation" required>
</div>
<div class="col-md-3">
<input type="date" class="form-control" id="travelDate" required>
</div>
<div class="col-md-3">
<button class="btn btn-success w-100">Search</button>
</div>
</form>

<div class="row mt-4" id="results"></div>
</div>
</section>

<!-- Offer Ride -->
<section id="offer" class="py-5 bg-light">
<div class="container">
<h2 class="text-center mb-4">Offer a Ride</h2>

<form class="row g-3" onsubmit="offerRide(event)">
<div class="col-md-3">
<input type="text" class="form-control" placeholder="From" id="offerFrom" required>
</div>
<div class="col-md-3">
<input type="text" class="form-control" placeholder="To" id="offerTo" required>
</div>
<div class="col-md-2">
<input type="date" class="form-control" id="offerDate" required>
</div>
<div class="col-md-2">
<input type="number" class="form-control" placeholder="Seats" id="offerSeats" required>
</div>
<div class="col-md-2">
<button class="btn btn-primary w-100">Offer Ride</button>
</div>
</form>
</div>
</section>

<!-- Footer -->
<footer>
<p>¬©Ô∏è 2025 CarPool Connect. All rights reserved.</p>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
/* Load rides from localStorage */
let rides = JSON.parse(localStorage.getItem("rides")) || [];

/* Offer Ride */
function offerRide(e) {
e.preventDefault();

const ride = {
from: offerFrom.value,
to: offerTo.value,
date: offerDate.value,
seats: parseInt(offerSeats.value)
};

rides.push(ride);
localStorage.setItem("rides", JSON.stringify(rides));

alert("Ride Offered Successfully üöó");
e.target.reset();
}

/* Search Ride */
function searchRide(e) {
e.preventDefault();
results.innerHTML = "";

const from = fromLocation.value.toLowerCase();
const to = toLocation.value.toLowerCase();
const date = travelDate.value;

const filtered = rides.filter(r =>
r.from.toLowerCase() === from &&
r.to.toLowerCase() === to &&
r.date === date &&
r.seats > 0
);

if (filtered.length === 0) {
results.innerHTML = "<p class='text-center'>No rides found</p>";
return;
}

filtered.forEach((ride, index) => {
results.innerHTML += `
<div class="col-md-4">
<div class="card mb-3">
<div class="card-body">
<h5>${ride.from} ‚Üí ${ride.to}</h5>
<p>Date: ${ride.date}</p>
<p>Seats Available: ${ride.seats}</p>
<button class="btn btn-success" onclick="joinRide(${index})">
Join Ride
</button>
</div>
</div>
</div>
`;
});
}

/* Join Ride */
function joinRide(index) {
if (rides[index].seats > 0) {
rides[index].seats--;
localStorage.setItem("rides", JSON.stringify(rides));
alert("Ride Joined Successfully ‚úÖ");
searchRide(new Event("submit"));
}
}
</script>

</body>
</html>